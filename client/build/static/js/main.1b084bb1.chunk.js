(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{24:function(e,t,a){e.exports=a(39)},29:function(e,t,a){},30:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(21),c=a.n(s),i=(a(29),a(3)),l=a(4),o=a(6),u=a(5),d=(a(30),a(10)),h=a(14),m=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={value:""},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{action:"/regionSearch",method:"get"},r.a.createElement("input",{type:"text",value:this.state.value,name:"region",placeholder:"search region...",onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Search"})))}}]),a}(r.a.Component);var v=function(){return r.a.createElement("nav",null,r.a.createElement("ul",{className:"nav-links"},r.a.createElement(d.b,{to:"/"},r.a.createElement("h3",null," Logo")),r.a.createElement(d.b,{to:"/about"},r.a.createElement("li",null,"About")),r.a.createElement(d.b,{to:"/shop"},r.a.createElement("li",null,"Shop")),r.a.createElement(m,null)))},p=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"sup"),r.a.createElement("p",null,this.props.date))}}]),a}(r.a.Component),f=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p,{date:"bla"}))}}]),a}(r.a.Component);var g=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"About"))},b=a(12),E=a.n(b),y=a(15),x=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={currentDate:"",currentData:"",currentPosition:n.props.position},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setUpDate()}},{key:"setUpDate",value:function(){var e=this.props.date;console.log("this is the single date: ",this.props.date);var t=e.date;delete e.date;var a=e,n=a.deaths;console.log("the deaths: "+n),this.setState({currentDate:t,currentData:a,deaths:n})}},{key:"componentDidUpdate",value:function(e){e.date.date!=this.props.date.date&&this.setUpDate()}},{key:"constructDataBox",value:function(){var e,t=Object.keys(this.state.currentData).length;document.getElementById("dataBox");for(e=0;e<t;e++){var a=Object.keys(this.state.currentData)[e];this.state.currentData[a]}return r.a.createElement("div",null,"a")}},{key:"render",value:function(){var e=100*parseFloat(this.state.currentData.death_ratio);e=e.toFixed(3),console.log(e);var t=100*parseFloat(this.state.currentData.recovery_ratio);return t=t.toFixed(3),console.log(t),r.a.createElement("div",{className:"SingleRegion"},r.a.createElement("h6",null,this.state.currentDate),r.a.createElement("div",{className:"dataBox"},r.a.createElement("div",{className:"dataBoxItem"},this.state.currentData.total_cases," ",r.a.createElement("div",{className:"dataType"},"total cases")),r.a.createElement("div",{className:"dataBoxItem"},this.state.currentData.deaths,r.a.createElement("div",{className:"dataType"},"deaths")," "),r.a.createElement("div",{className:"dataBoxItem"},this.state.currentData.recovered," ",r.a.createElement("div",{className:"dataType"},"recovered")),r.a.createElement("div",{className:"dataBoxItem"},this.state.currentData.critical," ",r.a.createElement("div",{className:"dataType"},"critical")),r.a.createElement("div",{className:"dataBoxItem"},e+"%",r.a.createElement("div",{className:"dataType"},"death ratio")),r.a.createElement("div",{className:"dataBoxItem"},t+"%"," ",r.a.createElement("div",{className:"dataType"},"recovery ratio"))))}}]),a}(r.a.Component),B=a(23),k=a.n(B),O=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).chartRef=r.a.createRef(),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.chartRef.current.getContext("2d"),t=this.props.data,a=Object.keys(t)[0],n=[],r=[];console.log(Object.keys(t));for(var s=0;s<Object.keys(t).length;s++)n[s]=t[Object.keys(t).reverse()[s]].total_cases,r[s]=t[Object.keys(t).reverse()[s]].deaths;var c=t[a];console.log("the dates",c),console.log("total cases",n),new k.a(e,{type:"line",data:{labels:Object.keys(t).reverse(),datasets:[{label:"Total cases of covid 19",data:n},{label:"Total deaths related to covid 19",data:r}]},options:{}})}},{key:"render",value:function(){var e=this.props;e.data,e.title,e.color;return r.a.createElement("canvas",{ref:this.chartRef})}}]),a}(r.a.Component),j=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={title:"Region does not exist",dates:"",dateIndexA:0,dateIndexB:1,dataAvailable:!1,dataA:"",dataB:""},n.SingleRegionaA=r.a.createRef(),n.SingleRegionaB=r.a.createRef(),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=new URLSearchParams(this.props.location.search);this.state.value=e.get("region"),this.callAPI(this.state.value)}},{key:"callAPI",value:function(){var e=Object(y.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("this is the regionName: "+t),console.log("starting to fetch"),e.next=4,fetch("/region/"+t);case 4:return a=e.sent,console.log("the data: ",a),console.log("this is the REGION: "+t),e.next=9,a.json();case 9:if(n=e.sent,!(a.status>=400)){e.next=13;break}return this.setState({errorMsg:n.message}),e.abrupt("return");case 13:return this.state.dates=n,e.next=16,this.getDateA();case 16:return e.next=18,this.getDateB();case 18:return this.setState({dataAvailable:!0}),console.log("this is the state: "+this.state.dates["2021-01-14"]),e.abrupt("return");case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDateA",value:function(){var e=Object(y.a)(E.a.mark((function e(){var t,a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.dates,a=Object.keys(t)[this.state.dateIndexA],(n=this.state.dates[a]).date=a,this.state.dataA=n,console.log("currentDataA: "+n),e.abrupt("return");case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDateB",value:function(){var e=Object(y.a)(E.a.mark((function e(){var t,a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.dates,a=Object.keys(t)[this.state.dateIndexB],(n=this.state.dates[a]).date=a,this.state.dataB=n,e.abrupt("return");case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"leftButtonA",value:function(){if(this.state.dateIndexA+1<this.state.dateIndexB){this.state.dateIndexA+=1;var e=this.state.dateIndexA;this.getDateA(),this.setState({dateIndexA:e})}}},{key:"rightButtonA",value:function(){if(this.state.dateIndexA>0&&this.state.dateIndexA<this.state.dateIndexB){this.state.dateIndexA-=1;var e=this.state.dateIndexA;this.getDateA(),this.setState({dateIndexA:e})}}},{key:"leftButtonB",value:function(){var e=Object.keys(this.state.dates).length;if(this.state.dateIndexB<e){this.state.dateIndexB+=1;var t=this.state.dateIndexB;this.getDateB(),this.setState({dateIndexB:t})}}},{key:"rightButtonB",value:function(){if(this.state.dateIndexB-1>this.state.dateIndexA){this.state.dateIndexB-=1;var e=this.state.dateIndexB;this.getDateB(),this.setState({dateIndexB:e})}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"regionData"},r.a.createElement("h1",{style:{textTransform:"uppercase"}},this.state.value),this.state.dataAvailable?r.a.createElement("div",{className:"RegionContainer"},r.a.createElement("div",{className:"mainDataInfo"},r.a.createElement(O,{data:this.state.dates,title:"sometitle",color:"purple"})),r.a.createElement("div",{className:"SingleRegionBundle"},r.a.createElement("div",{className:"SingleRegionContainer"},r.a.createElement(x,{ref:this.SingleRegionaA,date:this.state.dataA}),r.a.createElement("button",{onClick:this.leftButtonA.bind(this)},"Day before"),r.a.createElement("button",{onClick:this.rightButtonA.bind(this)},"Day after")),r.a.createElement("div",{className:"SingleRegionContainer"},r.a.createElement(x,{ref:this.SingleRegionaB,date:this.state.dataB}),r.a.createElement("button",{onClick:this.leftButtonB.bind(this)},"Day before"),r.a.createElement("button",{onClick:this.rightButtonB.bind(this)},"Day after")))):r.a.createElement("div",null,r.a.createElement("div",{className:"ErrorMsg"},this.state.errorMsg),r.a.createElement(m,null))))}}]),a}(r.a.Component),D=a(1),I=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(v,null),r.a.createElement(D.c,null,r.a.createElement(D.a,{path:"/",exact:!0,component:A}),r.a.createElement(D.a,{path:"/about",component:g}),r.a.createElement(D.a,{path:"/shop",component:f}),r.a.createElement(D.a,{path:"/regionSearch",component:j}))))}}]),a}(n.Component),A=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Home Page"),r.a.createElement("p",null,"Please type in a region and press 'Search' to see COVID-19 statistics!"),r.a.createElement(m,null))},N=I;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.1b084bb1.chunk.js.map